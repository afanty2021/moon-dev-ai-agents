# é…ç½®æŒ‡å—

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [config.py](file://src/config.py)
- [trading_agent.py](file://src/agents/trading_agent.py)
- [exchange_manager.py](file://src/exchange_manager.py)
- [model_factory.py](file://src/models/model_factory.py)
- [requirements.txt](file://requirements.txt)
- [README.md](file://README.md)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [é¡¹ç›®ç»“æ„æ¦‚è§ˆ](#é¡¹ç›®ç»“æ„æ¦‚è§ˆ)
3. [æ ¸å¿ƒé…ç½®æ–‡ä»¶åˆ†æ](#æ ¸å¿ƒé…ç½®æ–‡ä»¶åˆ†æ)
4. [è¯¦ç»†é…ç½®å‚æ•°è¯´æ˜](#è¯¦ç»†é…ç½®å‚æ•°è¯´æ˜)
5. [å®Œæ•´é…ç½®æ–‡ä»¶ç¤ºä¾‹](#å®Œæ•´é…ç½®æ–‡ä»¶ç¤ºä¾‹)
6. [å¤šç¯å¢ƒé…ç½®ç®¡ç†](#å¤šç¯å¢ƒé…ç½®ç®¡ç†)
7. [APIå¯†é’¥é…ç½®](#apiå¯†é’¥é…ç½®)
8. [æ•…éšœæ’é™¤æŒ‡å—](#æ•…éšœæ’é™¤æŒ‡å—)
9. [æœ€ä½³å®è·µå»ºè®®](#æœ€ä½³å®è·µå»ºè®®)
10. [æ€»ç»“](#æ€»ç»“)

## ç®€ä»‹

Moon Dev AI Trading Agents æ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„é‡åŒ–äº¤æ˜“å¹³å°ï¼Œæä¾›äº†çµæ´»ä¸”å¼ºå¤§çš„é…ç½®ç³»ç»Ÿã€‚æœ¬æŒ‡å—å°†è¯¦ç»†ä»‹ç»å¦‚ä½•é…ç½®å’Œç®¡ç†è¯¥ç³»ç»Ÿçš„å„é¡¹å‚æ•°ï¼ŒåŒ…æ‹¬äº¤æ˜“æ‰€è®¾ç½®ã€é£é™©æ§åˆ¶ã€AIæ¨¡å‹é€‰æ‹©ã€äº¤æ˜“ç­–ç•¥ç­‰å…³é”®é…ç½®é€‰é¡¹ã€‚

è¯¥ç³»ç»Ÿæ”¯æŒå¤šç§äº¤æ˜“æ‰€ï¼ˆSolanaã€HyperLiquidï¼‰ï¼Œå¤šç§AIæ¨¡å‹ï¼Œä»¥åŠçµæ´»çš„é£é™©ç®¡ç†ç­–ç•¥ã€‚é€šè¿‡åˆç†çš„é…ç½®ï¼Œç”¨æˆ·å¯ä»¥é’ˆå¯¹ä¸åŒçš„äº¤æ˜“åœºæ™¯å’Œé£é™©åå¥½è¿›è¡Œå®šåˆ¶åŒ–è®¾ç½®ã€‚

## é¡¹ç›®ç»“æ„æ¦‚è§ˆ

```mermaid
graph TB
subgraph "é…ç½®ç³»ç»Ÿæ¶æ„"
A[src/config.py] --> B[å…¨å±€é…ç½®ä¸­å¿ƒ]
C[src/agents/trading_agent.py] --> D[äº¤æ˜“ä»£ç†é…ç½®]
E[src/exchange_manager.py] --> F[äº¤æ˜“æ‰€ç®¡ç†å™¨]
G[src/models/model_factory.py] --> H[AIæ¨¡å‹å·¥å‚]
end
subgraph "å¤–éƒ¨ä¾èµ–"
I[.envæ–‡ä»¶] --> J[ç¯å¢ƒå˜é‡]
K[requirements.txt] --> L[ä¾èµ–åŒ…]
end
B --> M[äº¤æ¢æœºé…ç½®]
B --> N[é£é™©å‚æ•°]
B --> O[ä½ç½®å¤§å°]
D --> P[AIæ¨¡å¼]
D --> Q[äº¤æ˜“æ¨¡å¼]
F --> R[APIå¯†é’¥]
H --> S[æ¨¡å‹é€‰æ‹©]
```

**å›¾è¡¨æ¥æº**
- [config.py](file://src/config.py#L1-L136)
- [trading_agent.py](file://src/agents/trading_agent.py#L1-L200)
- [exchange_manager.py](file://src/exchange_manager.py#L1-L100)

## æ ¸å¿ƒé…ç½®æ–‡ä»¶åˆ†æ

### ä¸»é…ç½®æ–‡ä»¶ç»“æ„

ä¸»é…ç½®æ–‡ä»¶ [`src/config.py`](file://src/config.py) åŒ…å«äº†ç³»ç»Ÿçš„æ ¸å¿ƒé…ç½®å‚æ•°ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªä¸»è¦ç±»åˆ«ï¼š

1. **äº¤æ˜“æ‰€é…ç½®** - æ”¯æŒçš„äº¤æ˜“å¹³å°é€‰æ‹©
2. **äº¤æ˜“é…ç½®** - åŸºç¡€äº¤æ˜“å‚æ•°è®¾ç½®
3. **é£é™©æ§åˆ¶** - æŸç›Šé™åˆ¶å’Œä»“ä½ç®¡ç†
4. **AIæ¨¡å‹è®¾ç½®** - å¤šç§AIæ¨¡å‹çš„é…ç½®é€‰é¡¹
5. **å®æ—¶å‰ªè¾‘é…ç½®** - å†…å®¹åˆ›ä½œåŠŸèƒ½è®¾ç½®

**ç« èŠ‚æ¥æº**
- [config.py](file://src/config.py#L1-L136)

### äº¤æ˜“ä»£ç†é…ç½®

[`src/agents/trading_agent.py`](file://src/agents/trading_agent.py) æä¾›äº†æ›´è¯¦ç»†çš„äº¤æ˜“é…ç½®é€‰é¡¹ï¼ŒåŒ…æ‹¬ï¼š

- AIæ¨¡å¼é€‰æ‹©ï¼ˆå•æ¨¡å‹ vs è”ç›Ÿæ¨¡å¼ï¼‰
- äº¤æ˜“æ¨¡å¼è®¾ç½®ï¼ˆä»…åšå¤š vs åšå¤šåšç©ºï¼‰
- ä»“ä½å¤§å°å’Œæ æ†é…ç½®
- å¸‚åœºæ•°æ®æ”¶é›†è®¾ç½®

**ç« èŠ‚æ¥æº**
- [trading_agent.py](file://src/agents/trading_agent.py#L66-L200)

## è¯¦ç»†é…ç½®å‚æ•°è¯´æ˜

### äº¤æ˜“æ‰€é…ç½®

#### åŸºç¡€äº¤æ˜“æ‰€è®¾ç½®

| å‚æ•°å | é»˜è®¤å€¼ | æ•°æ®ç±»å‹ | æœ‰æ•ˆèŒƒå›´ | æè¿° |
|--------|--------|----------|----------|------|
| `EXCHANGE` | `'solana'` | å­—ç¬¦ä¸² | `'solana'`, `'hyperliquid'` | ä¸»è¦äº¤æ˜“äº¤æ˜“æ‰€é€‰æ‹© |

#### HyperLiquid ç‰¹å®šé…ç½®

| å‚æ•°å | é»˜è®¤å€¼ | æ•°æ®ç±»å‹ | æœ‰æ•ˆèŒƒå›´ | æè¿° |
|--------|--------|----------|----------|------|
| `HYPERLIQUID_SYMBOLS` | `['BTC', 'ETH', 'SOL']` | åˆ—è¡¨ | ä»»æ„æœ‰æ•ˆçš„äº¤æ˜“ç¬¦å· | åœ¨HyperLiquidä¸Šäº¤æ˜“çš„æ°¸ç»­åˆçº¦åˆ—è¡¨ |
| `HYPERLIQUID_LEVERAGE` | `5` | æ•´æ•° | 1-50 | HyperLiquidäº¤æ˜“çš„é»˜è®¤æ æ†å€æ•° |

#### Solana ç‰¹å®šé…ç½®

| å‚æ•°å | é»˜è®¤å€¼ | æ•°æ®ç±»å‹ | æœ‰æ•ˆèŒƒå›´ | æè¿° |
|--------|--------|----------|----------|------|
| `USDC_ADDRESS` | `"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"` | å­—ç¬¦ä¸² | æœ‰æ•ˆçš„Solanaåœ°å€ | USDCä»£å¸åœ°å€ï¼ˆä¸å¯äº¤æ˜“ï¼‰ |
| `SOL_ADDRESS` | `"So11111111111111111111111111111111111111111"` | å­—ç¬¦ä¸² | æœ‰æ•ˆçš„Solanaåœ°å€ | SOLä»£å¸åœ°å€ï¼ˆä¸å¯äº¤æ˜“ï¼‰ |
| `EXCLUDED_TOKENS` | `[USDC_ADDRESS, SOL_ADDRESS]` | åˆ—è¡¨ | åœ°å€åˆ—è¡¨ | æ’é™¤äº¤æ˜“çš„ä»£å¸åˆ—è¡¨ |

**ç« èŠ‚æ¥æº**
- [config.py](file://src/config.py#L5-L45)

### äº¤æ˜“é…ç½®å‚æ•°

#### åŸºç¡€äº¤æ˜“è®¾ç½®

| å‚æ•°å | é»˜è®¤å€¼ | æ•°æ®ç±»å‹ | æœ‰æ•ˆèŒƒå›´ | æè¿° |
|--------|--------|----------|----------|------|
| `usd_size` | `25` | æ•°å­— | æ­£æ•° | ç›®æ ‡æŒä»“é‡‘é¢ï¼ˆç¾å…ƒï¼‰ |
| `max_usd_order_size` | `3` | æ•°å­— | æ­£æ•° | æœ€å¤§è®¢å•é‡‘é¢ï¼ˆç¾å…ƒï¼‰ |
| `tx_sleep` | `30` | æ•´æ•° | ç§’æ•° | äº¤æ˜“é—´éš”æ—¶é—´ |
| `slippage` | `199` | æ•´æ•° | 0-1000 | æ»‘ç‚¹å®¹å¿åº¦ï¼ˆ199 â‰ˆ 2%ï¼‰ |

#### é£é™©ç®¡ç†å‚æ•°

| å‚æ•°å | é»˜è®¤å€¼ | æ•°æ®ç±»å‹ | æœ‰æ•ˆèŒƒå›´ | æè¿° |
|--------|--------|----------|----------|------|
| `CASH_PERCENTAGE` | `20` | æ•´æ•° | 0-100 | æœ€ä½ç°é‡‘ç¼“å†²ç™¾åˆ†æ¯” |
| `MAX_POSITION_PERCENTAGE` | `30` | æ•´æ•° | 0-100 | å•ä¸ªå¤´å¯¸æœ€å¤§åˆ†é…æ¯”ä¾‹ |
| `STOPLOSS_PRICE` | `1` | æ•°å­— | æ­£æ•° | åœæŸä»·æ ¼ï¼ˆæš‚æœªä½¿ç”¨ï¼‰ |
| `BREAKOUT_PRICE` | `0.0001` | æ•°å­— | æ­£æ•° | çªç ´ä»·æ ¼é˜ˆå€¼ï¼ˆæš‚æœªä½¿ç”¨ï¼‰ |
| `SLEEP_AFTER_CLOSE` | `600` | æ•´æ•° | ç§’æ•° | å¹³ä»“åä¼‘çœ æ—¶é—´ |

**ç« èŠ‚æ¥æº**
- [config.py](file://src/config.py#L47-L73)

### AIæ¨¡å‹é…ç½®

#### æ¨¡å‹é€‰æ‹©å’Œå‚æ•°

| å‚æ•°å | é»˜è®¤å€¼ | æ•°æ®ç±»å‹ | å¯é€‰å€¼ | æè¿° |
|--------|--------|----------|--------|------|
| `AI_MODEL` | `"claude-3-haiku-20240307"` | å­—ç¬¦ä¸² | å¤šç§Claudeæ¨¡å‹ | ä¸»è¦ä½¿ç”¨çš„AIæ¨¡å‹ |
| `AI_MAX_TOKENS` | `1024` | æ•´æ•° | 1-8192 | AIå“åº”çš„æœ€å¤§ä»¤ç‰Œæ•° |
| `AI_TEMPERATURE` | `0.7` | æµ®ç‚¹æ•° | 0-1 | åˆ›æ„ä¸ç²¾ç¡®åº¦å¹³è¡¡å‚æ•° |

#### æ”¯æŒçš„AIæ¨¡å‹

```mermaid
graph LR
A[AIæ¨¡å‹é€‰æ‹©] --> B[Claudeç³»åˆ—]
A --> C[GPTç³»åˆ—]
A --> D[å…¶ä»–æ¨¡å‹]
B --> B1[claude-3-haiku-20240307<br/>å¿«é€Ÿé«˜æ•ˆ]
B --> B2[claude-3-sonnet-20240229<br/>å¹³è¡¡æ€§èƒ½]
B --> B3[claude-3-opus-20240229<br/>æœ€å¼ºå¤§æ¨¡å‹]
C --> C1[gpt-4-turbo]
C --> C2[gpt-4o]
D --> D1[gemini-pro]
D --> D2[deepseek-chat]
D --> D3[grok-4]
D --> D4[ollamaæœ¬åœ°æ¨¡å‹]
```

**å›¾è¡¨æ¥æº**
- [config.py](file://src/config.py#L105-L110)

### å®æ—¶å‰ªè¾‘é…ç½®

#### å‰ªè¾‘åŠŸèƒ½è®¾ç½®

| å‚æ•°å | é»˜è®¤å€¼ | æ•°æ®ç±»å‹ | æè¿° |
|--------|--------|----------|------|
| `REALTIME_CLIPS_ENABLED` | `True` | å¸ƒå°”å€¼ | æ˜¯å¦å¯ç”¨å®æ—¶å‰ªè¾‘åŠŸèƒ½ |
| `REALTIME_CLIPS_OBS_FOLDER` | `'/Volumes/Moon 26/OBS'` | å­—ç¬¦ä¸² | OBSå½•åˆ¶æ–‡ä»¶å¤¹è·¯å¾„ |
| `REALTIME_CLIPS_AUTO_INTERVAL` | `120` | æ•´æ•° | è‡ªåŠ¨æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰ |
| `REALTIME_CLIPS_LENGTH` | `2` | æ•´æ•° | åˆ†ææ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰ |
| `REALTIME_CLIPS_AI_MODEL` | `'groq'` | å­—ç¬¦ä¸² | ä½¿ç”¨çš„AIæ¨¡å‹ç±»å‹ |
| `REALTIME_CLIPS_TWITTER` | `True` | å¸ƒå°”å€¼ | æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æ¨ç‰¹ç¼–è¾‘ |

**ç« èŠ‚æ¥æº**
- [config.py](file://src/config.py#L120-L136)

## å®Œæ•´é…ç½®æ–‡ä»¶ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ŒåŒ…å«æ‰€æœ‰ä¸»è¦å‚æ•°çš„è¯¦ç»†æ³¨é‡Šï¼š

```python
"""
ğŸŒ™ Moon Dev AI Trading Agents é…ç½®æ–‡ä»¶
å®Œå…¨æ³¨é‡Šç‰ˆ - é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ
"""

# ğŸ”„ äº¤æ˜“æ‰€é€‰æ‹©
# å¯é€‰å€¼: 'solana', 'hyperliquid'
EXCHANGE = 'hyperliquid'  # ç”Ÿäº§ç¯å¢ƒæ¨èä½¿ç”¨HyperLiquid

# ğŸ’° äº¤æ˜“é…ç½®
USDC_ADDRESS = "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"  # USDCåœ°å€ï¼ˆä¸å¯äº¤æ˜“ï¼‰
SOL_ADDRESS = "So11111111111111111111111111111111111111111"   # SOLåœ°å€ï¼ˆä¸å¯äº¤æ˜“ï¼‰

# åˆ›å»ºæ’é™¤äº¤æ˜“çš„ä»£å¸åˆ—è¡¨
EXCLUDED_TOKENS = [USDC_ADDRESS, SOL_ADDRESS]

# ğŸ“‹ äº¤æ˜“ä»£å¸åˆ—è¡¨
# æ³¨æ„ï¼šäº¤æ˜“ä»£ç†æœ‰è‡ªå·±çš„ä»£å¸åˆ—è¡¨ - è§ trading_agent.py ç¬¬101-104è¡Œ
MONITORED_TOKENS = [
    # '9BB6NFEcjBCtnNLFko2FqVQBq8HHM13kCyYcdQbgpump',    # ğŸŒ¬ï¸ FARTï¼ˆå·²ç¦ç”¨ï¼‰
    # 'DitHyRMQiSDhn5cnKMJV2CDDt6sVct96YrECiM49pump'     # ğŸ  housecoinï¼ˆå·²ç¦ç”¨ï¼‰
]

# âš¡ HyperLiquid é…ç½®
HYPERLIQUID_SYMBOLS = ['BTC', 'ETH', 'SOL', 'AVAX', 'ARB']  # åœ¨HyperLiquidä¸Šäº¤æ˜“çš„æ°¸ç»­åˆçº¦
HYPERLIQUID_LEVERAGE = 10  # é»˜è®¤æ æ†å€æ•°ï¼ˆ1-50ï¼‰

# ğŸ”„ äº¤æ˜“æ‰€ç‰¹å®šä»£å¸æ˜ å°„
TOKEN_EXCHANGE_MAP = {
    'BTC': 'hyperliquid',
    'ETH': 'hyperliquid',
    'SOL': 'hyperliquid',
    'AVAX': 'hyperliquid',
    'ARB': 'hyperliquid',
    # æ‰€æœ‰å…¶ä»–ä»£å¸é»˜è®¤ä½¿ç”¨Solana
}

# ğŸ¯ ä»£å¸å’Œé’±åŒ…è®¾ç½®
symbol = '9BB6NFEcjBCtnNLFko2FqVQBq8HHM13kCyYcdQbgpump'  # å½“å‰äº¤æ˜“çš„ä»£å¸
address = '4wgfCBf2WwLSRKLef9iW7JXZ2AfkxUxGM4XcKpHm3Sin'  # æ‚¨çš„é’±åŒ…åœ°å€

# ğŸ¯ ä½ç½®å¤§å°é…ç½®
usd_size = 50  # ç›®æ ‡æŒä»“é‡‘é¢ï¼ˆç¾å…ƒï¼‰
max_usd_order_size = 10  # æœ€å¤§è®¢å•é‡‘é¢ï¼ˆç¾å…ƒï¼‰
tx_sleep = 30  # äº¤æ˜“é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰
slippage = 199  # æ»‘ç‚¹å®¹å¿åº¦ï¼ˆ199 â‰ˆ 2%ï¼‰

# ğŸ›¡ï¸ é£é™©ç®¡ç†è®¾ç½®
CASH_PERCENTAGE = 10  # æœ€ä½ç°é‡‘ç¼“å†²ç™¾åˆ†æ¯”ï¼ˆ0-100ï¼‰
MAX_POSITION_PERCENTAGE = 20  # å•ä¸ªå¤´å¯¸æœ€å¤§åˆ†é…æ¯”ä¾‹ï¼ˆ0-100ï¼‰
STOPLOSS_PRICE = 1  # åœæŸä»·æ ¼ï¼ˆæš‚æœªä½¿ç”¨ï¼‰
BREAKOUT_PRICE = 0.0001  # çªç ´ä»·æ ¼é˜ˆå€¼ï¼ˆæš‚æœªä½¿ç”¨ï¼‰
SLEEP_AFTER_CLOSE = 600  # å¹³ä»“åä¼‘çœ æ—¶é—´ï¼ˆç§’ï¼‰

# ğŸ” æœ€å¤§æŸå¤±/æ”¶ç›Šè®¾ç½®ï¼ˆç”¨äºé£é™©ä»£ç†ï¼‰
USE_PERCENTAGE = True  # å¦‚æœä¸ºTrueï¼Œä½¿ç”¨ç™¾åˆ†æ¯”é™åˆ¶ï¼›å¦‚æœä¸ºFalseï¼Œä½¿ç”¨ç¾å…ƒé™åˆ¶

# ç¾å…ƒåŸºç¡€é™åˆ¶ï¼ˆå½“USE_PERCENTAGEä¸ºFalseæ—¶ä½¿ç”¨ï¼‰
MAX_LOSS_USD = 50  # æœ€å¤§äºæŸï¼ˆç¾å…ƒï¼‰
MAX_GAIN_USD = 100  # æœ€å¤§ç›ˆåˆ©ï¼ˆç¾å…ƒï¼‰

# ç¾å…ƒæœ€å°ä½™é¢é£é™©æ§åˆ¶
MINIMUM_BALANCE_USD = 100  # å¦‚æœä½™é¢ä½äºæ­¤å€¼ï¼Œé£é™©ä»£ç†å°†è€ƒè™‘å¹³ä»“
USE_AI_CONFIRMATION = True  # å¦‚æœä¸ºTrueï¼Œåœ¨å¹³ä»“å‰å’¨è¯¢AIï¼›å¦‚æœä¸ºFalseï¼Œ breachedç«‹å³å¹³ä»“

# ç™¾åˆ†æ¯”åŸºç¡€é™åˆ¶ï¼ˆå½“USE_PERCENTAGEä¸ºTrueæ—¶ä½¿ç”¨ï¼‰
MAX_LOSS_PERCENT = 10  # æœ€å¤§äºæŸç™¾åˆ†æ¯”ï¼ˆä¾‹å¦‚ï¼Œ20 = 20%äºæŸï¼‰
MAX_GAIN_PERCENT = 20  # æœ€å¤§ç›ˆåˆ©ç™¾åˆ†æ¯”ï¼ˆä¾‹å¦‚ï¼Œ50 = 50%ç›ˆåˆ©ï¼‰

# âš¡ äº¤æ˜“è®¾ç½®
slippage = 199  # æ»‘ç‚¹è®¾ç½®ï¼ˆ500 = 5%ï¼Œ50 = 0.5%ï¼‰
PRIORITY_FEE = 100000  # ä¼˜å…ˆè´¹ç”¨ï¼ˆçº¦0.02ç¾å…ƒåœ¨å½“å‰SOLä»·æ ¼ä¸‹ï¼‰
orders_per_open = 3  # æ›´å¥½å¡«å……ç‡çš„å¤šä¸ªè®¢å•

# ğŸ“Š å¸‚åœºåšå¸‚è®¾ç½®
buy_under = 0.0946
sell_over = 1

# ğŸ“ˆ æ•°æ®æ”¶é›†è®¾ç½®
DAYSBACK_4_DATA = 7  # å›æº¯å¤©æ•°
DATA_TIMEFRAME = '1H'  # æ—¶é—´æ¡†æ¶ï¼š1m, 3m, 5m, 15m, 30m, 1H, 2H, 4H, 6H, 8H, 12H, 1D, 3D, 1W, 1M
SAVE_OHLCV_DATA = False  # è®¾ç½®ä¸ºTrueæ°¸ä¹…ä¿å­˜æ•°æ®ï¼ŒFalseä»…åœ¨è¿è¡ŒæœŸé—´ä½¿ç”¨ä¸´æ—¶æ•°æ®

# ğŸ¤– AIæ¨¡å‹è®¾ç½®
AI_MODEL = "claude-3-sonnet-20240229"  # æ¨¡å‹é€‰é¡¹ï¼š
                                    # - claude-3-haiku-20240307ï¼ˆå¿«é€Ÿé«˜æ•ˆClaudeæ¨¡å‹ï¼‰
                                    # - claude-3-sonnet-20240229ï¼ˆå¹³è¡¡Claudeæ¨¡å‹ï¼‰
                                    # - claude-3-opus-20240229ï¼ˆæœ€å¼ºå¤§çš„Claudeæ¨¡å‹ï¼‰
AI_MAX_TOKENS = 2048  # å“åº”æœ€å¤§ä»¤ç‰Œæ•°
AI_TEMPERATURE = 0.5  # åˆ›æ„vsç²¾ç¡®åº¦ï¼ˆ0-1ï¼‰

# ğŸ“Š äº¤æ˜“ç­–ç•¥ä»£ç†è®¾ç½® - å¯èƒ½å°šæœªä½¿ç”¨ 1/5/25
ENABLE_STRATEGIES = True  # è®¾ç½®ä¸ºTrueä»¥ä½¿ç”¨ç­–ç•¥
STRATEGY_MIN_CONFIDENCE = 0.8  # å¯¹ç­–ç•¥ä¿¡å·é‡‡å–è¡ŒåŠ¨çš„æœ€å°ç½®ä¿¡åº¦

# ä¸»ä»£ç†è¿è¡Œä¹‹é—´çš„ç¡çœ æ—¶é—´
SLEEP_BETWEEN_RUNS_MINUTES = 10  # ä¸»ä»£ç†è¿è¡Œä¹‹é—´çš„ç¡çœ æ—¶é—´

# åœ¨æˆ‘ä»¬çš„nice_funcsä¸­ï¼Œæˆ‘ä»¬æŸ¥çœ‹æ¯å°æ—¶çš„æœ€å°äº¤æ˜“æ¬¡æ•°
MIN_TRADES_LAST_HOUR = 5

# ğŸ¬ å®æ—¶å‰ªè¾‘ä»£ç†è®¾ç½®
REALTIME_CLIPS_ENABLED = True
REALTIME_CLIPS_OBS_FOLDER = '/Volumes/Moon 26/OBS'  # æ‚¨çš„OBSå½•åˆ¶æ–‡ä»¶å¤¹
REALTIME_CLIPS_AUTO_INTERVAL = 120  # æ¯Nç§’æ£€æŸ¥ä¸€æ¬¡ï¼ˆ120 = 2åˆ†é’Ÿï¼‰
REALTIME_CLIPS_LENGTH = 3  # æ¯æ¬¡æ£€æŸ¥åˆ†æçš„åˆ†é’Ÿæ•°
REALTIME_CLIPS_AI_MODEL = 'groq'  # æ¨¡å‹ç±»å‹ï¼šgroq, openai, claude, deepseek, xai, ollama
REALTIME_CLIPS_AI_MODEL_NAME = None  # None = ä½¿ç”¨æ¨¡å‹ç±»å‹çš„é»˜è®¤å€¼
REALTIME_CLIPS_TWITTER = True  # å‰ªè¾‘åè‡ªåŠ¨æ‰“å¼€æ¨ç‰¹æ’°å†™

# æœªæ¥å˜é‡ï¼ˆå°šæœªæ¿€æ´»ï¼‰ ğŸ”®
sell_at_multiple = 3
USDC_SIZE = 1
limit = 49
timeframe = '15m'
stop_loss_perctentage = -0.24
EXIT_ALL_POSITIONS = False
DO_NOT_TRADE_LIST = ['777']
CLOSED_POSITIONS_TXT = '777'
minimum_trades_in_last_hour = 777
```

**ç« èŠ‚æ¥æº**
- [config.py](file://src/config.py#L1-L136)

## å¤šç¯å¢ƒé…ç½®ç®¡ç†

### å¼€å‘ç¯å¢ƒé…ç½®

```python
# å¼€å‘ç¯å¢ƒé…ç½®ç¤ºä¾‹
EXCHANGE = 'solana'  # ä½¿ç”¨Solanaè¿›è¡Œæµ‹è¯•
HYPERLIQUID_LEVERAGE = 1  # é™ä½æ æ†é£é™©
MAX_POSITION_PERCENTAGE = 5  # å‡å°‘å•ç¬”äº¤æ˜“é£é™©
SAVE_OHLCV_DATA = True  # ä¿å­˜å†å²æ•°æ®ç”¨äºå›æµ‹
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®

```python
# ç”Ÿäº§ç¯å¢ƒé…ç½®ç¤ºä¾‹
EXCHANGE = 'hyperliquid'  # ä½¿ç”¨HyperLiquidè¿›è¡Œå®ç›˜äº¤æ˜“
HYPERLIQUID_LEVERAGE = 10  # ä½¿ç”¨é€‚å½“æ æ†
MAX_POSITION_PERCENTAGE = 20  # æ§åˆ¶å•ç¬”äº¤æ˜“é£é™©
USE_AI_CONFIRMATION = True  # å¯ç”¨AIç¡®è®¤æœºåˆ¶
```

### é…ç½®æ–‡ä»¶ç»„ç»‡å»ºè®®

```mermaid
graph TD
A[é…ç½®ç®¡ç†ç³»ç»Ÿ] --> B[åŸºç¡€é…ç½® config.py]
A --> C[ç¯å¢ƒç‰¹å®šé…ç½®]
A --> D[APIå¯†é’¥ç®¡ç†]
B --> B1[äº¤æ˜“æ‰€è®¾ç½®]
B --> B2[é£é™©å‚æ•°]
B --> B3[AIæ¨¡å‹é…ç½®]
C --> C1[development.py]
C --> C2[staging.py]
C --> C3[production.py]
D --> D1[.env.development]
D --> D2[.env.staging]
D --> D3[.env.production]
```

### ç¯å¢ƒåˆ‡æ¢è„šæœ¬

åˆ›å»ºç¯å¢ƒåˆ‡æ¢è„šæœ¬ç®€åŒ–é…ç½®ç®¡ç†ï¼š

```bash
#!/bin/bash
# é…ç½®ç¯å¢ƒåˆ‡æ¢è„šæœ¬

ENV=$1

case $ENV in
    "dev")
        cp .env.development .env
        echo "åˆ‡æ¢åˆ°å¼€å‘ç¯å¢ƒ"
        ;;
    "prod")
        cp .env.production .env
        echo "åˆ‡æ¢åˆ°ç”Ÿäº§ç¯å¢ƒ"
        ;;
    *)
        echo "ç”¨æ³•: ./switch_env.sh [dev|prod]"
        ;;
esac
```

## APIå¯†é’¥é…ç½®

### å¿…éœ€çš„APIå¯†é’¥

ç³»ç»Ÿéœ€è¦é…ç½®å¤šä¸ªAIæ¨¡å‹çš„APIå¯†é’¥ï¼š

| APIæä¾›å•† | ç¯å¢ƒå˜é‡å | è·å–æ–¹å¼ |
|-----------|------------|----------|
| Anthropic Claude | `ANTHROPIC_KEY` | https://console.anthropic.com/ |
| OpenAI GPT | `OPENAI_KEY` | https://platform.openai.com/api-keys |
| DeepSeek | `DEEPSEEK_KEY` | https://platform.deepseek.com/ |
| Groq | `GROQ_API_KEY` | https://console.groq.com/ |
| Google Gemini | `GEMINI_KEY` | https://aistudio.google.com/app/apikey |
| xAI Grok | `XAI_API_KEY` | https://console.x.ai/ |
| OpenRouter | `OPENROUTER_API_KEY` | https://openrouter.ai/keys |

### å¸‚åœºæ•°æ®APIå¯†é’¥

| æ•°æ®æä¾›å•† | ç¯å¢ƒå˜é‡å | è·å–æ–¹å¼ |
|------------|------------|----------|
| BirdEye | `BIRDEYE_API_KEY` | https://birdeye.so/ |
| CoinGecko | `COINGECKO_API_KEY` | https://www.coingecko.com/en/api |

### ç¯å¢ƒå˜é‡æ–‡ä»¶ç¤ºä¾‹

```bash
# .env.development
ANTHROPIC_KEY=your_development_anthropic_key_here
OPENAI_KEY=your_development_openai_key_here
DEEPSEEK_KEY=your_development_deepseek_key_here
GROQ_API_KEY=your_development_groq_key_here
GEMINI_KEY=your_development_gemini_key_here
XAI_API_KEY=your_development_xai_key_here
OPENROUTER_API_KEY=your_development_openrouter_key_here

BIRDEYE_API_KEY=your_development_birdeye_key_here
COINGECKO_API_KEY=your_development_coingecko_key_here

# äº¤æ˜“æ‰€å¯†é’¥
HYPER_LIQUID_KEY=your_hyperliquid_private_key_here
SOLANA_PRIVATE_KEY=your_solana_private_key_here
```

**ç« èŠ‚æ¥æº**
- [model_factory.py](file://src/models/model_factory.py#L51-L81)

## æ•…éšœæ’é™¤æŒ‡å—

### å¸¸è§é…ç½®é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

#### 1. APIå¯†é’¥æ— æ•ˆé”™è¯¯

**ç—‡çŠ¶**: 
```
âŒ API key not found for claude
âŒ OPENAI_KEY not found in environment!
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥.envæ–‡ä»¶æ˜¯å¦æ­£ç¡®åˆ›å»º
2. éªŒè¯APIå¯†é’¥æ ¼å¼æ˜¯å¦æ­£ç¡®
3. ç¡®ä¿ç¯å¢ƒå˜é‡åŠ è½½æˆåŠŸ

```python
# è°ƒè¯•APIå¯†é’¥åŠ è½½
import os
from dotenv import load_dotenv

load_dotenv()
keys = ['ANTHROPIC_KEY', 'OPENAI_KEY', 'DEEPSEEK_KEY']
for key in keys:
    value = os.getenv(key)
    print(f"{key}: {'âœ“' if value else 'âœ—'}")
```

#### 2. äº¤æ˜“æ‰€è¿æ¥å¤±è´¥

**ç—‡çŠ¶**:
```
âŒ Failed to initialize HyperLiquid: HYPER_LIQUID_KEY not found in environment
âŒ Could not initialize ExchangeManager
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥äº¤æ˜“æ‰€ç§é’¥æ ¼å¼
2. éªŒè¯ç½‘ç»œè¿æ¥
3. ç¡®è®¤äº¤æ˜“æ‰€APIå¯ç”¨æ€§

#### 3. é…ç½®å‚æ•°è¶…å‡ºèŒƒå›´

**ç—‡çŠ¶**:
```
ValueError: HYPERLIQUID_LEVERAGE must be between 1 and 50
```

**è§£å†³æ–¹æ¡ˆ**:
```python
# éªŒè¯é…ç½®å‚æ•°
def validate_config(config):
    if not (1 <= config.get('HYPERLIQUID_LEVERAGE', 1) <= 50):
        raise ValueError("HYPERLIQUID_LEVERAGEå¿…é¡»åœ¨1-50ä¹‹é—´")
    
    if not (0 <= config.get('MAX_POSITION_PERCENTAGE', 0) <= 100):
        raise ValueError("MAX_POSITION_PERCENTAGEå¿…é¡»åœ¨0-100ä¹‹é—´")
```

#### 4. æƒç›Šè®¡ç®—é”™è¯¯

**ç—‡çŠ¶**:
```
âŒ Failed to calculate position size: Invalid equity
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥è´¦æˆ·ä½™é¢è·å–
2. éªŒè¯èµ„é‡‘åˆ†é…é€»è¾‘
3. ç¡®è®¤é£é™©å‚æ•°è®¾ç½®

### é…ç½®éªŒè¯å·¥å…·

åˆ›å»ºé…ç½®éªŒè¯è„šæœ¬ï¼š

```python
#!/usr/bin/env python3
"""
é…ç½®éªŒè¯å·¥å…·
"""

import os
import sys
from src.config import *
from src.models.model_factory import ModelFactory

def validate_exchange_config():
    """éªŒè¯äº¤æ˜“æ‰€é…ç½®"""
    valid_exchanges = ['solana', 'hyperliquid']
    if EXCHANGE not in valid_exchanges:
        print(f"âŒ é”™è¯¯çš„äº¤æ˜“æ‰€é…ç½®: {EXCHANGE}")
        return False
    return True

def validate_risk_params():
    """éªŒè¯é£é™©å‚æ•°"""
    if not (0 <= CASH_PERCENTAGE <= 100):
        print(f"âŒ CASH_PERCENTAGEå¿…é¡»åœ¨0-100ä¹‹é—´: {CASH_PERCENTAGE}")
        return False
    
    if not (0 <= MAX_POSITION_PERCENTAGE <= 100):
        print(f"âŒ MAX_POSITION_PERCENTAGEå¿…é¡»åœ¨0-100ä¹‹é—´: {MAX_POSITION_PERCENTAGE}")
        return False
    
    return True

def validate_api_keys():
    """éªŒè¯APIå¯†é’¥"""
    factory = ModelFactory()
    missing_keys = []
    
    for model_type in factory._get_api_key_mapping().keys():
        key_name = factory._get_api_key_mapping()[model_type]
        if not os.getenv(key_name):
            missing_keys.append(key_name)
    
    if missing_keys:
        print(f"âŒ ç¼ºå°‘ä»¥ä¸‹APIå¯†é’¥: {missing_keys}")
        return False
    
    return True

def main():
    """ä¸»éªŒè¯å‡½æ•°"""
    print("ğŸ” å¼€å§‹é…ç½®éªŒè¯...")
    
    checks = [
        ("äº¤æ˜“æ‰€é…ç½®", validate_exchange_config),
        ("é£é™©å‚æ•°", validate_risk_params),
        ("APIå¯†é’¥", validate_api_keys)
    ]
    
    all_valid = True
    for name, check_func in checks:
        print(f"\nğŸ“ éªŒè¯ {name}...")
        if not check_func():
            all_valid = False
    
    if all_valid:
        print("\nâœ… æ‰€æœ‰é…ç½®éªŒè¯é€šè¿‡ï¼")
    else:
        print("\nâŒ é…ç½®éªŒè¯å¤±è´¥ï¼Œè¯·ä¿®å¤ä¸Šè¿°é—®é¢˜ã€‚")
        sys.exit(1)

if __name__ == "__main__":
    main()
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 1. ç½‘ç»œä¼˜åŒ–

```python
# ä¼˜åŒ–ç½‘ç»œè¯·æ±‚é…ç½®
import requests
from requests.adapters import HTTPAdapter
from urllib3.util.retry import Retry

session = requests.Session()
retry_strategy = Retry(
    total=3,
    backoff_factor=1,
    status_forcelist=[429, 500, 502, 503, 504],
)
adapter = HTTPAdapter(max_retries=retry_strategy)
session.mount("http://", adapter)
session.mount("https://", adapter)
```

#### 2. å†…å­˜ä¼˜åŒ–

```python
# ä¼˜åŒ–å¤§æ•°æ®å¤„ç†
import psutil

def check_memory_usage():
    """æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µ"""
    memory = psutil.virtual_memory()
    print(f"å†…å­˜ä½¿ç”¨ç‡: {memory.percent}%")
    print(f"å¯ç”¨å†…å­˜: {memory.available / 1024**2:.2f} MB")
    
    if memory.percent > 80:
        print("âš ï¸ å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜ï¼Œå¯èƒ½å½±å“æ€§èƒ½")
```

## æœ€ä½³å®è·µå»ºè®®

### 1. é…ç½®ç‰ˆæœ¬æ§åˆ¶

```bash
# Gitå¿½ç•¥æ•æ„Ÿé…ç½®æ–‡ä»¶
echo ".env" >> .gitignore
echo "*.pyc" >> .gitignore
echo "__pycache__/" >> .gitignore

# åˆ›å»ºé…ç½®æ¨¡æ¿
cp config.py config.py.template
```

### 2. å®‰å…¨é…ç½®ç®¡ç†

```python
# å®‰å…¨é…ç½®éªŒè¯
import hashlib
import os

def hash_config(config_dict):
    """ä¸ºé…ç½®ç”Ÿæˆå“ˆå¸Œå€¼"""
    config_str = str(sorted(config_dict.items()))
    return hashlib.sha256(config_str.encode()).hexdigest()

def backup_config(config_dict):
    """å¤‡ä»½é…ç½®æ–‡ä»¶"""
    import json
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    backup_filename = f"config_backup_{timestamp}.json"
    
    with open(backup_filename, 'w') as f:
        json.dump(config_dict, f, indent=2)
    
    print(f"é…ç½®å·²å¤‡ä»½åˆ°: {backup_filename}")
```

### 3. ç›‘æ§å’Œæ—¥å¿—

```python
# é…ç½®ç›‘æ§
import logging
from datetime import datetime

# é…ç½®æ—¥å¿—è®°å½•
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('config_monitor.log'),
        logging.StreamHandler()
    ]
)

def log_config_change(old_config, new_config):
    """è®°å½•é…ç½®å˜æ›´"""
    logging.info(f"é…ç½®å˜æ›´æ£€æµ‹äº {datetime.now()}")
    logging.info(f"æ—§é…ç½®å“ˆå¸Œ: {hash_config(old_config)}")
    logging.info(f"æ–°é…ç½®å“ˆå¸Œ: {hash_config(new_config)}")
```

### 4. è‡ªåŠ¨åŒ–éƒ¨ç½²

```yaml
# docker-compose.yml ç¤ºä¾‹
version: '3.8'
services:
  trading-agent:
    image: moon-dev-ai-trading:latest
    environment:
      - EXCHANGE=hyperliquid
      - HYPERLIQUID_LEVERAGE=10
      - MAX_POSITION_PERCENTAGE=20
    volumes:
      - ./config:/app/config
      - ./data:/app/data
    secrets:
      - anthropic_key
      - openai_key
      - hyperliquid_key

secrets:
  anthropic_key:
    file: ./secrets/anthropic_key.txt
  openai_key:
    file: ./secrets/openai_key.txt
  hyperliquid_key:
    file: ./secrets/hyperliquid_key.txt
```

### 5. é…ç½®æ¨¡æ¿ç³»ç»Ÿ

```python
# é…ç½®æ¨¡æ¿ç³»ç»Ÿ
class ConfigTemplate:
    def __init__(self, template_type):
        self.template_type = template_type
        self.config = {}
    
    def load_template(self):
        """åŠ è½½é…ç½®æ¨¡æ¿"""
        templates = {
            'conservative': {
                'HYPERLIQUID_LEVERAGE': 3,
                'MAX_POSITION_PERCENTAGE': 10,
                'CASH_PERCENTAGE': 20,
                'AI_MODEL': 'claude-3-haiku-20240307'
            },
            'aggressive': {
                'HYPERLIQUID_LEVERAGE': 20,
                'MAX_POSITION_PERCENTAGE': 30,
                'CASH_PERCENTAGE': 5,
                'AI_MODEL': 'claude-3-opus-20240229'
            },
            'balanced': {
                'HYPERLIQUID_LEVERAGE': 10,
                'MAX_POSITION_PERCENTAGE': 20,
                'CASH_PERCENTAGE': 15,
                'AI_MODEL': 'claude-3-sonnet-20240229'
            }
        }
        
        self.config = templates.get(self.template_type, {})
        return self.config
    
    def apply_to_config(self, target_config):
        """åº”ç”¨æ¨¡æ¿åˆ°ç›®æ ‡é…ç½®"""
        for key, value in self.config.items():
            if key in target_config:
                target_config[key] = value
        return target_config
```

## æ€»ç»“

Moon Dev AI Trading Agents çš„é…ç½®ç³»ç»Ÿæä¾›äº†é«˜åº¦çš„çµæ´»æ€§å’Œå¯å®šåˆ¶æ€§ã€‚é€šè¿‡åˆç†é…ç½®å„é¡¹å‚æ•°ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„äº¤æ˜“ç­–ç•¥ã€é£é™©åå¥½å’Œå¸‚åœºæ¡ä»¶è¿›è¡Œä¸ªæ€§åŒ–è®¾ç½®ã€‚

### å…³é”®è¦ç‚¹å›é¡¾

1. **äº¤æ˜“æ‰€é€‰æ‹©**ï¼šæ ¹æ®äº¤æ˜“éœ€æ±‚é€‰æ‹©åˆé€‚çš„äº¤æ˜“æ‰€ï¼ˆSolana vs HyperLiquidï¼‰
2. **é£é™©ç®¡ç†**ï¼šè®¾ç½®é€‚å½“çš„é£é™©å‚æ•°ï¼ŒåŒ…æ‹¬æ æ†ã€ä»“ä½å¤§å°å’Œæ­¢æŸè®¾ç½®
3. **AIæ¨¡å‹é…ç½®**ï¼šé€‰æ‹©é€‚åˆçš„AIæ¨¡å‹ä»¥å¹³è¡¡æ€§èƒ½å’Œæˆæœ¬
4. **APIå¯†é’¥ç®¡ç†**ï¼šç¡®ä¿æ‰€æœ‰å¿…è¦çš„APIå¯†é’¥æ­£ç¡®é…ç½®
5. **ç¯å¢ƒéš”ç¦»**ï¼šä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ç®¡ç†å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒ
6. **å®‰å…¨å®è·µ**ï¼šä¿æŠ¤æ•æ„Ÿé…ç½®ä¿¡æ¯ï¼Œå®šæœŸå¤‡ä»½é…ç½®

### ä¸‹ä¸€æ­¥å»ºè®®

1. æ ¹æ®æ‚¨çš„äº¤æ˜“ç­–ç•¥é€‰æ‹©åˆé€‚çš„é…ç½®æ¨¡æ¿
2. è¿›è¡Œå……åˆ†çš„æµ‹è¯•å’Œå›æµ‹éªŒè¯é…ç½®çš„æœ‰æ•ˆæ€§
3. å»ºç«‹é…ç½®å˜æ›´çš„ç›‘æ§å’Œå®¡è®¡æœºåˆ¶
4. å®šæœŸå®¡æŸ¥å’Œæ›´æ–°é…ç½®ä»¥é€‚åº”å¸‚åœºå˜åŒ–

é€šè¿‡éµå¾ªæœ¬æŒ‡å—çš„æœ€ä½³å®è·µï¼Œæ‚¨å¯ä»¥å……åˆ†åˆ©ç”¨Moon Dev AI Trading Agentsçš„å¼ºå¤§åŠŸèƒ½ï¼Œå®ç°é«˜æ•ˆçš„è‡ªåŠ¨åŒ–äº¤æ˜“ã€‚